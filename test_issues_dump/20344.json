{
  "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
  "repository_url": "https://api.github.com/repos/eclipse-openj9/openj9",
  "labels_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344/labels{/name}",
  "comments_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344/comments",
  "events_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344/events",
  "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344",
  "id": 2589399554,
  "node_id": "I_kwDOBgtddc6aVxoC",
  "number": 20344,
  "title": "IProfiler assertion failure while building JDK with compiler in debug mode: some entries were still locked on shutdown",
  "user": {
    "login": "cjjdespres",
    "id": 97237914,
    "node_id": "U_kgDOBcu7mg",
    "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cjjdespres",
    "html_url": "https://github.com/cjjdespres",
    "followers_url": "https://api.github.com/users/cjjdespres/followers",
    "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
    "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
    "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
    "repos_url": "https://api.github.com/users/cjjdespres/repos",
    "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 4,
  "created_at": "2024-10-15T17:16:53Z",
  "updated_at": "2024-10-25T13:42:00Z",
  "closed_at": "2024-10-25T13:41:49Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "body": "I tried building the compiler in debug mode, with the environment variable `OPENJ9_JAVA_OPTIONS='-Xjit:ignoreAssert -Xaot:ignoreAssert'` set so that the full JDK would at least be built, and got the following assertion failure:\r\n\r\n```\r\n=== Output from failing command(s) repeated here ===\r\n* For target support_images_jmods__create_java.sql.rowset.jmod_exec:\r\nAssertion failed at /home/despresc/dev/openj9-openjdk-jdk21/openj9/runtime/compiler/control/HookedByTheJit.cpp:4164: lockedEntries == 0\r\n\tsome entries were still locked on shutdown\r\n\r\nUnhandled exception\r\nType=Unhandled trap vmState=0x00040000\r\nJ9Generic_Signal_Number=00000108 Signal_Number=00000005 Error_Value=00000000 Signal_Code=fffffffa\r\nHandler1=00007FB78330DE30 Handler2=00007FB782E80480\r\nRDI=0000000000000002 RSI=00007FB7894C8AB0 RAX=0000000000000000 RBX=0000000000000005\r\nRCX=00007FB788C7FBAF RDX=0000000000000000 R8=0000000000000000 R9=00007FB7894C8AB0\r\nR10=0000000000000008 R11=0000000000000246 R12=00007FB7894CA248 R13=00007FB7894CA270\r\nR14=00007FB7894CA270 R15=00007FB78847D018\r\nRIP=00007FB788C7FBAF GS=0000 FS=0000 RSP=00007FB7894C8AB0\r\nEFlags=0000000000000246 CS=0033 RBP=0000000000000000 ERR=0000000000000000\r\nTRAPNO=0000000000000000 OLDMASK=0000000000000000 CR2=0000000000000000\r\nxmm0=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm1=0000003000000010 (f: 16.000000, d: 1.018558e-312)\r\nxmm2=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm3=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm4=00000000000000ff (f: 255.000000, d: 1.259867e-321)\r\nxmm5=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm6=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm7=00007fb7894ca810 (f: 2303502336.000000, d: 6.937979e-310)\r\nxmm8=4022000000000000 (f: 0.000000, d: 9.000000e+00)\r\nxmm9=4022aaaaaaaaaaab (f: 2863311616.000000, d: 9.333333e+00)\r\nxmm10=0014195b1403141f (f: 335746080.000000, d: 2.795116e-308)\r\nxmm11=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm12=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm13=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm14=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nxmm15=0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\nModule=/lib64/libpthread.so.0\r\nModule_base_address=00007FB788C6D000 Symbol=raise\r\nSymbol_address=00007FB788C7FAA0\r\nTarget=2_90_20241008_000000 (Linux 4.18.0-553.22.1.el8_10.x86_64)\r\nCPU=amd64 (8 logical CPUs) (0x7c7916000 RAM)\r\n----------- Stack Backtrace -----------\r\nraise+0x10f (0x00007FB788C7FBAF [libpthread.so.0+0x12baf])\r\n_ZN2TR4trapEv+0x40 (0x00007FB78156DD40 [libj9jit29.so+0x942d40])\r\n (0x00007FB78156DECC [libj9jit29.so+0x942ecc])\r\n (0x00007FB78156DE8A [libj9jit29.so+0x942e8a])\r\nJitShutdown+0x2fe (0x00007FB780E11E7E [libj9jit29.so+0x1e6e7e])\r\nJ9VMDllMain+0x20a0 (0x00007FB780E0CEE0 [libj9jit29.so+0x1e1ee0])\r\nrunJ9VMDllMain+0x121 (0x00007FB78332AFA1 [libj9vm29.so+0x5bfa1])\r\nrunShutdownStage+0x10d (0x00007FB7833230CD [libj9vm29.so+0x540cd])\r\nexitJavaVM+0x1fd (0x00007FB78332214D [libj9vm29.so+0x5314d])\r\nJVM_Halt_Impl+0x63 (0x00007FB77FDC28D3 [libjclse29.so+0x6a8d3])\r\nffi_call_unix64+0x52 (0x00007FB78348803A [libj9vm29.so+0x1b903a])\r\nffi_call_int+0x39a (0x00007FB78348790A [libj9vm29.so+0x1b890a])\r\n_ZN32VM_BytecodeInterpreterCompressed3runEP10J9VMThread+0x162cb (0x00007FB78338AEBB [libj9vm29.so+0xbbebb])\r\nbytecodeLoopCompressed+0xd8 (0x00007FB783374BE8 [libj9vm29.so+0xa5be8])\r\n (0x00007FB78341CEC2 [libj9vm29.so+0x14dec2])\r\n```\r\n\r\nI thought it was a little strange that there was an assertion failure at all, but it seems that in the definition in OMR:\r\n\r\nhttps://github.com/eclipse/omr/blob/46f74f6599f42ec07c72791f752738d10f814fd1/compiler/infra/Assert.cpp#L142\r\n\r\nonly the options of the current `TR::Compilation` are checked, and this assert evidently happened at shutdown, outside of any compilation. That function should probably check the top-level `TR::Options::getCmdLineOptions()` as a fallback if the `comp` doesn't exist, but that's a separate issue.\r\n\r\nThis is the first time I've rebased onto the latest `master` in a few weeks, so this may have arisen due to some commit in that time frame. Though, I've not built with `-Xjit:ignoreAssert -Xaot:ignoreAssert` before, so this may be older.",
  "closed_by": {
    "login": "mpirvu",
    "id": 22594880,
    "node_id": "MDQ6VXNlcjIyNTk0ODgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/22594880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mpirvu",
    "html_url": "https://github.com/mpirvu",
    "followers_url": "https://api.github.com/users/mpirvu/followers",
    "following_url": "https://api.github.com/users/mpirvu/following{/other_user}",
    "gists_url": "https://api.github.com/users/mpirvu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mpirvu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mpirvu/subscriptions",
    "organizations_url": "https://api.github.com/users/mpirvu/orgs",
    "repos_url": "https://api.github.com/users/mpirvu/repos",
    "events_url": "https://api.github.com/users/mpirvu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mpirvu/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed",
  "timeline_data": [
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2414587889",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2414587889",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2414587889,
      "node_id": "IC_kwDOBgtddc6P66_x",
      "user": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-15T17:17:20Z",
      "updated_at": "2024-10-15T17:17:20Z",
      "author_association": "NONE",
      "body": "Issue Number: 20344\nStatus: Open\nRecommended Components: comp:vm, comp:gc, comp:build\nRecommended Assignees: jasonfengj9, tajila, keithc-ca\n",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2414587889/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": {
        "id": 15368,
        "client_id": "Iv1.05c79e9ad1f6bdfa",
        "slug": "github-actions",
        "node_id": "MDM6QXBwMTUzNjg=",
        "owner": {
          "login": "github",
          "id": 9919,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/github",
          "html_url": "https://github.com/github",
          "followers_url": "https://api.github.com/users/github/followers",
          "following_url": "https://api.github.com/users/github/following{/other_user}",
          "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/github/subscriptions",
          "organizations_url": "https://api.github.com/users/github/orgs",
          "repos_url": "https://api.github.com/users/github/repos",
          "events_url": "https://api.github.com/users/github/events{/privacy}",
          "received_events_url": "https://api.github.com/users/github/received_events",
          "type": "Organization",
          "user_view_type": "public",
          "site_admin": false
        },
        "name": "GitHub Actions",
        "description": "Automate your workflow from idea to production",
        "external_url": "https://help.github.com/en/actions",
        "html_url": "https://github.com/apps/github-actions",
        "created_at": "2018-07-30T09:30:17Z",
        "updated_at": "2025-03-07T16:35:00Z",
        "permissions": {
          "actions": "write",
          "administration": "read",
          "attestations": "write",
          "checks": "write",
          "contents": "write",
          "deployments": "write",
          "discussions": "write",
          "issues": "write",
          "merge_queues": "write",
          "metadata": "read",
          "models": "read",
          "packages": "write",
          "pages": "write",
          "pull_requests": "write",
          "repository_hooks": "write",
          "repository_projects": "write",
          "security_events": "write",
          "statuses": "write",
          "vulnerability_alerts": "read"
        },
        "events": [
          "branch_protection_rule",
          "check_run",
          "check_suite",
          "create",
          "delete",
          "deployment",
          "deployment_status",
          "discussion",
          "discussion_comment",
          "fork",
          "gollum",
          "issues",
          "issue_comment",
          "label",
          "merge_group",
          "milestone",
          "page_build",
          "project",
          "project_card",
          "project_column",
          "public",
          "pull_request",
          "pull_request_review",
          "pull_request_review_comment",
          "push",
          "registry_package",
          "release",
          "repository",
          "repository_dispatch",
          "status",
          "watch",
          "workflow_dispatch",
          "workflow_run"
        ]
      },
      "event": "commented",
      "actor": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      }
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416746672",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2416746672",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2416746672,
      "node_id": "IC_kwDOBgtddc6QDKCw",
      "user": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-16T12:46:51Z",
      "updated_at": "2024-10-16T12:46:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "My guess is that this is very rare, and I can't reproduce it. The core that I got from the failure is unhelpful as well, since the assert is located just after the `releaseAllEntries()` call, which releases all the locks in the entries, making it so that I can't even tell what entries were still locked at shutdown.",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416746672/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": null,
      "event": "commented",
      "actor": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      }
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416991028",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2416991028",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2416991028,
      "node_id": "IC_kwDOBgtddc6QEFs0",
      "user": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-16T14:20:54Z",
      "updated_at": "2024-10-16T14:20:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "It definitely seems like the locks on entries are always released if acquired. The only time a lock isn't released in the scope of a `lockEntry()` is in `TR_IPBCDataCallGraph::canBePersisted()` (and `canBeSerialized`, but that should only run if JITServer is enabled), and that will have happened only if `canBePersisted` returned `IPBC_ENTRY_CAN_PERSIST`.\r\n\r\nSo maybe what had to have happened was:\r\n\r\n1. Thread A calls [`findOrCreateEntry`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L1095), looking for a profiling entry for a particular `pc`. One is not found.\r\n2. Thread B calls `findOrCreateEntry` for the same `pc`, and again a profiling entry is not found.\r\n3. Thread A creates an entry for `pc` and adds it to the hash table.\r\n4. Thread C calls [`TR_IProfiler::persistIprofileInfo`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L366), finds `pc` and the entry from (3) in [`walkILTreeForEntries`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L271), sees that it is valid and can be persisted, and adds `pc` to the `pcEntries` array it's accumulating. At this point the entry from (3) is locked.\r\n5. Thread D creates an entry for a PC in the same bucket as `pc`.\r\n6. Thread B creates a new entry for `pc` and adds it to the hash table.\r\n7. Thread C gets to the point where [the entries in `pcEntries` are released](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L522) and uses `profilingSample` to look up the entry for `pc`. It finds the entry from (6) and \"releases\" it, which of course does nothing since that entry isn't locked. The entry from (3) remains locked.\r\n\r\nIf that's the case, the assert probably isn't an indication that anything is too wrong. At least, the situation is no worse than the race between threads A and B above, which is known and documented in a comment in [`findOrCreateEntry`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L1095). I think the lock remaining set will only mean that entry (3) will never be eligible for storage in the SCC or serialization for delivery to a JITServer. Also, that entry will be shadowed by entry (6) for any search of the hashtable that happens after (6) gets added, so this race will not be visible for very long.",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416991028/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": null,
      "event": "commented",
      "actor": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      }
    },
    {
      "actor": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-17T16:41:26Z",
      "updated_at": "2024-10-17T16:41:26Z",
      "source": {
        "type": "issue",
        "issue": {
          "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375",
          "repository_url": "https://api.github.com/repos/eclipse-openj9/openj9",
          "labels_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375/labels{/name}",
          "comments_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375/comments",
          "events_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375/events",
          "html_url": "https://github.com/eclipse-openj9/openj9/pull/20375",
          "id": 2595234175,
          "node_id": "PR_kwDOBgtddc5-_pYI",
          "number": 20375,
          "title": "Adjust IProfiler locked entry assert",
          "user": {
            "login": "cjjdespres",
            "id": 97237914,
            "node_id": "U_kgDOBcu7mg",
            "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjjdespres",
            "html_url": "https://github.com/cjjdespres",
            "followers_url": "https://api.github.com/users/cjjdespres/followers",
            "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
            "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
            "repos_url": "https://api.github.com/users/cjjdespres/repos",
            "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "labels": [],
          "state": "closed",
          "locked": false,
          "assignee": {
            "login": "mpirvu",
            "id": 22594880,
            "node_id": "MDQ6VXNlcjIyNTk0ODgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22594880?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mpirvu",
            "html_url": "https://github.com/mpirvu",
            "followers_url": "https://api.github.com/users/mpirvu/followers",
            "following_url": "https://api.github.com/users/mpirvu/following{/other_user}",
            "gists_url": "https://api.github.com/users/mpirvu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mpirvu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mpirvu/subscriptions",
            "organizations_url": "https://api.github.com/users/mpirvu/orgs",
            "repos_url": "https://api.github.com/users/mpirvu/repos",
            "events_url": "https://api.github.com/users/mpirvu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mpirvu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "mpirvu",
              "id": 22594880,
              "node_id": "MDQ6VXNlcjIyNTk0ODgw",
              "avatar_url": "https://avatars.githubusercontent.com/u/22594880?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/mpirvu",
              "html_url": "https://github.com/mpirvu",
              "followers_url": "https://api.github.com/users/mpirvu/followers",
              "following_url": "https://api.github.com/users/mpirvu/following{/other_user}",
              "gists_url": "https://api.github.com/users/mpirvu/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/mpirvu/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/mpirvu/subscriptions",
              "organizations_url": "https://api.github.com/users/mpirvu/orgs",
              "repos_url": "https://api.github.com/users/mpirvu/repos",
              "events_url": "https://api.github.com/users/mpirvu/events{/privacy}",
              "received_events_url": "https://api.github.com/users/mpirvu/received_events",
              "type": "User",
              "user_view_type": "public",
              "site_admin": false
            }
          ],
          "milestone": null,
          "comments": 4,
          "created_at": "2024-10-17T16:41:26Z",
          "updated_at": "2024-10-25T13:41:48Z",
          "closed_at": "2024-10-25T13:41:48Z",
          "author_association": "CONTRIBUTOR",
          "type": null,
          "active_lock_reason": null,
          "draft": false,
          "repository": {
            "id": 101408117,
            "node_id": "MDEwOlJlcG9zaXRvcnkxMDE0MDgxMTc=",
            "name": "openj9",
            "full_name": "eclipse-openj9/openj9",
            "private": false,
            "owner": {
              "login": "eclipse-openj9",
              "id": 46903915,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ2OTAzOTE1",
              "avatar_url": "https://avatars.githubusercontent.com/u/46903915?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/eclipse-openj9",
              "html_url": "https://github.com/eclipse-openj9",
              "followers_url": "https://api.github.com/users/eclipse-openj9/followers",
              "following_url": "https://api.github.com/users/eclipse-openj9/following{/other_user}",
              "gists_url": "https://api.github.com/users/eclipse-openj9/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/eclipse-openj9/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/eclipse-openj9/subscriptions",
              "organizations_url": "https://api.github.com/users/eclipse-openj9/orgs",
              "repos_url": "https://api.github.com/users/eclipse-openj9/repos",
              "events_url": "https://api.github.com/users/eclipse-openj9/events{/privacy}",
              "received_events_url": "https://api.github.com/users/eclipse-openj9/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "html_url": "https://github.com/eclipse-openj9/openj9",
            "description": "Eclipse OpenJ9: A Java Virtual Machine for OpenJDK that's optimized for small footprint, fast start-up, and high throughput.   Builds on Eclipse OMR (https://github.com/eclipse/omr) and combines with the Extensions for OpenJDK for OpenJ9 repo.",
            "fork": false,
            "url": "https://api.github.com/repos/eclipse-openj9/openj9",
            "forks_url": "https://api.github.com/repos/eclipse-openj9/openj9/forks",
            "keys_url": "https://api.github.com/repos/eclipse-openj9/openj9/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/eclipse-openj9/openj9/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/eclipse-openj9/openj9/teams",
            "hooks_url": "https://api.github.com/repos/eclipse-openj9/openj9/hooks",
            "issue_events_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/events{/number}",
            "events_url": "https://api.github.com/repos/eclipse-openj9/openj9/events",
            "assignees_url": "https://api.github.com/repos/eclipse-openj9/openj9/assignees{/user}",
            "branches_url": "https://api.github.com/repos/eclipse-openj9/openj9/branches{/branch}",
            "tags_url": "https://api.github.com/repos/eclipse-openj9/openj9/tags",
            "blobs_url": "https://api.github.com/repos/eclipse-openj9/openj9/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/eclipse-openj9/openj9/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/eclipse-openj9/openj9/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/eclipse-openj9/openj9/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/eclipse-openj9/openj9/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/eclipse-openj9/openj9/languages",
            "stargazers_url": "https://api.github.com/repos/eclipse-openj9/openj9/stargazers",
            "contributors_url": "https://api.github.com/repos/eclipse-openj9/openj9/contributors",
            "subscribers_url": "https://api.github.com/repos/eclipse-openj9/openj9/subscribers",
            "subscription_url": "https://api.github.com/repos/eclipse-openj9/openj9/subscription",
            "commits_url": "https://api.github.com/repos/eclipse-openj9/openj9/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/eclipse-openj9/openj9/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/eclipse-openj9/openj9/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/eclipse-openj9/openj9/contents/{+path}",
            "compare_url": "https://api.github.com/repos/eclipse-openj9/openj9/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/eclipse-openj9/openj9/merges",
            "archive_url": "https://api.github.com/repos/eclipse-openj9/openj9/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/eclipse-openj9/openj9/downloads",
            "issues_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues{/number}",
            "pulls_url": "https://api.github.com/repos/eclipse-openj9/openj9/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/eclipse-openj9/openj9/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/eclipse-openj9/openj9/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/eclipse-openj9/openj9/labels{/name}",
            "releases_url": "https://api.github.com/repos/eclipse-openj9/openj9/releases{/id}",
            "deployments_url": "https://api.github.com/repos/eclipse-openj9/openj9/deployments",
            "created_at": "2017-08-25T13:46:07Z",
            "updated_at": "2025-07-07T22:34:05Z",
            "pushed_at": "2025-07-07T22:34:00Z",
            "git_url": "git://github.com/eclipse-openj9/openj9.git",
            "ssh_url": "git@github.com:eclipse-openj9/openj9.git",
            "clone_url": "https://github.com/eclipse-openj9/openj9.git",
            "svn_url": "https://github.com/eclipse-openj9/openj9",
            "homepage": "",
            "size": 196289,
            "stargazers_count": 3417,
            "watchers_count": 3417,
            "language": "Java",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": true,
            "has_pages": false,
            "has_discussions": false,
            "forks_count": 759,
            "mirror_url": null,
            "archived": false,
            "disabled": false,
            "open_issues_count": 2854,
            "license": {
              "key": "other",
              "name": "Other",
              "spdx_id": "NOASSERTION",
              "url": null,
              "node_id": "MDc6TGljZW5zZTA="
            },
            "allow_forking": true,
            "is_template": false,
            "web_commit_signoff_required": false,
            "topics": [
              "compiler",
              "eclipse-openj9",
              "garbage-collector",
              "gc",
              "hacktoberfest",
              "interpreter",
              "java",
              "jit",
              "jvm",
              "runtime",
              "virtual-machine"
            ],
            "visibility": "public",
            "forks": 759,
            "open_issues": 2854,
            "watchers": 3417,
            "default_branch": "master",
            "permissions": {
              "admin": false,
              "maintain": false,
              "push": false,
              "triage": false,
              "pull": true
            }
          },
          "pull_request": {
            "url": "https://api.github.com/repos/eclipse-openj9/openj9/pulls/20375",
            "html_url": "https://github.com/eclipse-openj9/openj9/pull/20375",
            "diff_url": "https://github.com/eclipse-openj9/openj9/pull/20375.diff",
            "patch_url": "https://github.com/eclipse-openj9/openj9/pull/20375.patch",
            "merged_at": "2024-10-25T13:41:48Z"
          },
          "body": "The TR_IProfiler::releaseAllEntries() function is used with DEBUG to check that all entries in the IProfiler _bcHashTable are unlocked at JVM exit. This function now compensates for a known race condition in TR_IProfiler::findOrCreateEntry() by also reporting the number of locked entries it encounters that were likely not a result of that race condition, so it can be asserted instead that that total is zero.\r\n\r\nFixes: https://github.com/eclipse-openj9/openj9/issues/20344",
          "reactions": {
            "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "timeline_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20375/timeline",
          "performed_via_github_app": null,
          "state_reason": null
        }
      },
      "event": "cross-referenced"
    },
    {
      "id": 14874999015,
      "node_id": "CE_lADOBgtddc6aVxoCzwAAAAN2nnjn",
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/events/14874999015",
      "actor": {
        "login": "mpirvu",
        "id": 22594880,
        "node_id": "MDQ6VXNlcjIyNTk0ODgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/22594880?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mpirvu",
        "html_url": "https://github.com/mpirvu",
        "followers_url": "https://api.github.com/users/mpirvu/followers",
        "following_url": "https://api.github.com/users/mpirvu/following{/other_user}",
        "gists_url": "https://api.github.com/users/mpirvu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mpirvu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mpirvu/subscriptions",
        "organizations_url": "https://api.github.com/users/mpirvu/orgs",
        "repos_url": "https://api.github.com/users/mpirvu/repos",
        "events_url": "https://api.github.com/users/mpirvu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mpirvu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "event": "closed",
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T13:41:49Z",
      "state_reason": null,
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2437817132",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2437817132",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2437817132,
      "node_id": "IC_kwDOBgtddc6RTiMs",
      "user": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-25T13:41:59Z",
      "updated_at": "2024-10-25T13:41:59Z",
      "author_association": "NONE",
      "body": "Issue Number: 20344\nStatus: Closed\nActual Components: None :(\nActual Assignees: No one :(\nPR Assignees: cjjdespres",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2437817132/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": {
        "id": 15368,
        "client_id": "Iv1.05c79e9ad1f6bdfa",
        "slug": "github-actions",
        "node_id": "MDM6QXBwMTUzNjg=",
        "owner": {
          "login": "github",
          "id": 9919,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/github",
          "html_url": "https://github.com/github",
          "followers_url": "https://api.github.com/users/github/followers",
          "following_url": "https://api.github.com/users/github/following{/other_user}",
          "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/github/subscriptions",
          "organizations_url": "https://api.github.com/users/github/orgs",
          "repos_url": "https://api.github.com/users/github/repos",
          "events_url": "https://api.github.com/users/github/events{/privacy}",
          "received_events_url": "https://api.github.com/users/github/received_events",
          "type": "Organization",
          "user_view_type": "public",
          "site_admin": false
        },
        "name": "GitHub Actions",
        "description": "Automate your workflow from idea to production",
        "external_url": "https://help.github.com/en/actions",
        "html_url": "https://github.com/apps/github-actions",
        "created_at": "2018-07-30T09:30:17Z",
        "updated_at": "2025-03-07T16:35:00Z",
        "permissions": {
          "actions": "write",
          "administration": "read",
          "attestations": "write",
          "checks": "write",
          "contents": "write",
          "deployments": "write",
          "discussions": "write",
          "issues": "write",
          "merge_queues": "write",
          "metadata": "read",
          "models": "read",
          "packages": "write",
          "pages": "write",
          "pull_requests": "write",
          "repository_hooks": "write",
          "repository_projects": "write",
          "security_events": "write",
          "statuses": "write",
          "vulnerability_alerts": "read"
        },
        "events": [
          "branch_protection_rule",
          "check_run",
          "check_suite",
          "create",
          "delete",
          "deployment",
          "deployment_status",
          "discussion",
          "discussion_comment",
          "fork",
          "gollum",
          "issues",
          "issue_comment",
          "label",
          "merge_group",
          "milestone",
          "page_build",
          "project",
          "project_card",
          "project_column",
          "public",
          "pull_request",
          "pull_request_review",
          "pull_request_review_comment",
          "push",
          "registry_package",
          "release",
          "repository",
          "repository_dispatch",
          "status",
          "watch",
          "workflow_dispatch",
          "workflow_run"
        ]
      },
      "event": "commented",
      "actor": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      }
    }
  ],
  "comments_data": [
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2414587889",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2414587889",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2414587889,
      "node_id": "IC_kwDOBgtddc6P66_x",
      "user": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-15T17:17:20Z",
      "updated_at": "2024-10-15T17:17:20Z",
      "author_association": "NONE",
      "body": "Issue Number: 20344\nStatus: Open\nRecommended Components: comp:vm, comp:gc, comp:build\nRecommended Assignees: jasonfengj9, tajila, keithc-ca\n",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2414587889/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": {
        "id": 15368,
        "client_id": "Iv1.05c79e9ad1f6bdfa",
        "slug": "github-actions",
        "node_id": "MDM6QXBwMTUzNjg=",
        "owner": {
          "login": "github",
          "id": 9919,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/github",
          "html_url": "https://github.com/github",
          "followers_url": "https://api.github.com/users/github/followers",
          "following_url": "https://api.github.com/users/github/following{/other_user}",
          "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/github/subscriptions",
          "organizations_url": "https://api.github.com/users/github/orgs",
          "repos_url": "https://api.github.com/users/github/repos",
          "events_url": "https://api.github.com/users/github/events{/privacy}",
          "received_events_url": "https://api.github.com/users/github/received_events",
          "type": "Organization",
          "user_view_type": "public",
          "site_admin": false
        },
        "name": "GitHub Actions",
        "description": "Automate your workflow from idea to production",
        "external_url": "https://help.github.com/en/actions",
        "html_url": "https://github.com/apps/github-actions",
        "created_at": "2018-07-30T09:30:17Z",
        "updated_at": "2025-03-07T16:35:00Z",
        "permissions": {
          "actions": "write",
          "administration": "read",
          "attestations": "write",
          "checks": "write",
          "contents": "write",
          "deployments": "write",
          "discussions": "write",
          "issues": "write",
          "merge_queues": "write",
          "metadata": "read",
          "models": "read",
          "packages": "write",
          "pages": "write",
          "pull_requests": "write",
          "repository_hooks": "write",
          "repository_projects": "write",
          "security_events": "write",
          "statuses": "write",
          "vulnerability_alerts": "read"
        },
        "events": [
          "branch_protection_rule",
          "check_run",
          "check_suite",
          "create",
          "delete",
          "deployment",
          "deployment_status",
          "discussion",
          "discussion_comment",
          "fork",
          "gollum",
          "issues",
          "issue_comment",
          "label",
          "merge_group",
          "milestone",
          "page_build",
          "project",
          "project_card",
          "project_column",
          "public",
          "pull_request",
          "pull_request_review",
          "pull_request_review_comment",
          "push",
          "registry_package",
          "release",
          "repository",
          "repository_dispatch",
          "status",
          "watch",
          "workflow_dispatch",
          "workflow_run"
        ]
      }
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416746672",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2416746672",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2416746672,
      "node_id": "IC_kwDOBgtddc6QDKCw",
      "user": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-16T12:46:51Z",
      "updated_at": "2024-10-16T12:46:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "My guess is that this is very rare, and I can't reproduce it. The core that I got from the failure is unhelpful as well, since the assert is located just after the `releaseAllEntries()` call, which releases all the locks in the entries, making it so that I can't even tell what entries were still locked at shutdown.",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416746672/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416991028",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2416991028",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2416991028,
      "node_id": "IC_kwDOBgtddc6QEFs0",
      "user": {
        "login": "cjjdespres",
        "id": 97237914,
        "node_id": "U_kgDOBcu7mg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97237914?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cjjdespres",
        "html_url": "https://github.com/cjjdespres",
        "followers_url": "https://api.github.com/users/cjjdespres/followers",
        "following_url": "https://api.github.com/users/cjjdespres/following{/other_user}",
        "gists_url": "https://api.github.com/users/cjjdespres/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cjjdespres/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cjjdespres/subscriptions",
        "organizations_url": "https://api.github.com/users/cjjdespres/orgs",
        "repos_url": "https://api.github.com/users/cjjdespres/repos",
        "events_url": "https://api.github.com/users/cjjdespres/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cjjdespres/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-16T14:20:54Z",
      "updated_at": "2024-10-16T14:20:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "It definitely seems like the locks on entries are always released if acquired. The only time a lock isn't released in the scope of a `lockEntry()` is in `TR_IPBCDataCallGraph::canBePersisted()` (and `canBeSerialized`, but that should only run if JITServer is enabled), and that will have happened only if `canBePersisted` returned `IPBC_ENTRY_CAN_PERSIST`.\r\n\r\nSo maybe what had to have happened was:\r\n\r\n1. Thread A calls [`findOrCreateEntry`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L1095), looking for a profiling entry for a particular `pc`. One is not found.\r\n2. Thread B calls `findOrCreateEntry` for the same `pc`, and again a profiling entry is not found.\r\n3. Thread A creates an entry for `pc` and adds it to the hash table.\r\n4. Thread C calls [`TR_IProfiler::persistIprofileInfo`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L366), finds `pc` and the entry from (3) in [`walkILTreeForEntries`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L271), sees that it is valid and can be persisted, and adds `pc` to the `pcEntries` array it's accumulating. At this point the entry from (3) is locked.\r\n5. Thread D creates an entry for a PC in the same bucket as `pc`.\r\n6. Thread B creates a new entry for `pc` and adds it to the hash table.\r\n7. Thread C gets to the point where [the entries in `pcEntries` are released](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L522) and uses `profilingSample` to look up the entry for `pc`. It finds the entry from (6) and \"releases\" it, which of course does nothing since that entry isn't locked. The entry from (3) remains locked.\r\n\r\nIf that's the case, the assert probably isn't an indication that anything is too wrong. At least, the situation is no worse than the race between threads A and B above, which is known and documented in a comment in [`findOrCreateEntry`](https://github.com/eclipse-openj9/openj9/blob/d51176e7598ed9a9d5f5466753041282b28b03b5/runtime/compiler/runtime/IProfiler.cpp#L1095). I think the lock remaining set will only mean that entry (3) will never be eligible for storage in the SCC or serialization for delivery to a JITServer. Also, that entry will be shadowed by entry (6) for any search of the hashtable that happens after (6) gets added, so this race will not be visible for very long.",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2416991028/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2437817132",
      "html_url": "https://github.com/eclipse-openj9/openj9/issues/20344#issuecomment-2437817132",
      "issue_url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/20344",
      "id": 2437817132,
      "node_id": "IC_kwDOBgtddc6RTiMs",
      "user": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "created_at": "2024-10-25T13:41:59Z",
      "updated_at": "2024-10-25T13:41:59Z",
      "author_association": "NONE",
      "body": "Issue Number: 20344\nStatus: Closed\nActual Components: None :(\nActual Assignees: No one :(\nPR Assignees: cjjdespres",
      "reactions": {
        "url": "https://api.github.com/repos/eclipse-openj9/openj9/issues/comments/2437817132/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "performed_via_github_app": {
        "id": 15368,
        "client_id": "Iv1.05c79e9ad1f6bdfa",
        "slug": "github-actions",
        "node_id": "MDM6QXBwMTUzNjg=",
        "owner": {
          "login": "github",
          "id": 9919,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/github",
          "html_url": "https://github.com/github",
          "followers_url": "https://api.github.com/users/github/followers",
          "following_url": "https://api.github.com/users/github/following{/other_user}",
          "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/github/subscriptions",
          "organizations_url": "https://api.github.com/users/github/orgs",
          "repos_url": "https://api.github.com/users/github/repos",
          "events_url": "https://api.github.com/users/github/events{/privacy}",
          "received_events_url": "https://api.github.com/users/github/received_events",
          "type": "Organization",
          "user_view_type": "public",
          "site_admin": false
        },
        "name": "GitHub Actions",
        "description": "Automate your workflow from idea to production",
        "external_url": "https://help.github.com/en/actions",
        "html_url": "https://github.com/apps/github-actions",
        "created_at": "2018-07-30T09:30:17Z",
        "updated_at": "2025-03-07T16:35:00Z",
        "permissions": {
          "actions": "write",
          "administration": "read",
          "attestations": "write",
          "checks": "write",
          "contents": "write",
          "deployments": "write",
          "discussions": "write",
          "issues": "write",
          "merge_queues": "write",
          "metadata": "read",
          "models": "read",
          "packages": "write",
          "pages": "write",
          "pull_requests": "write",
          "repository_hooks": "write",
          "repository_projects": "write",
          "security_events": "write",
          "statuses": "write",
          "vulnerability_alerts": "read"
        },
        "events": [
          "branch_protection_rule",
          "check_run",
          "check_suite",
          "create",
          "delete",
          "deployment",
          "deployment_status",
          "discussion",
          "discussion_comment",
          "fork",
          "gollum",
          "issues",
          "issue_comment",
          "label",
          "merge_group",
          "milestone",
          "page_build",
          "project",
          "project_card",
          "project_column",
          "public",
          "pull_request",
          "pull_request_review",
          "pull_request_review_comment",
          "push",
          "registry_package",
          "release",
          "repository",
          "repository_dispatch",
          "status",
          "watch",
          "workflow_dispatch",
          "workflow_run"
        ]
      }
    }
  ]
}